<div class="container mt-4">
  <h1 class="mb-4 text-center">Announcements</h1>

  <div class="d-flex justify-content-end mb-3">
    <%= link_to 'New Announcement', new_announcement_path, class: "btn btn-primary" %>
  </div>

  <table class="table table-striped table-hover">
    <thead class="table-dark">
      <tr>
        <th scope="col">Subject</th>
        <th scope="col">Content</th>
        <th scope="col">Club</th>
        <th scope="col">SIG</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      <% @announcements.each do |announcement| %>
        <tr>
          <td><%= announcement.subject %></td>
          <td><%= truncate(announcement.content, length: 50) %></td> <!-- Truncates content for better display -->
          <td><%= announcement.club.name if announcement.club %></td>
          <td><%= announcement.sig.name if announcement.sig %></td>
         <td>
  <%= link_to 'Show', announcement_path(announcement), class: "btn btn-info btn-sm" %>

  <% if current_user_convener?(announcement.club) %>
    <%= link_to 'Edit', edit_announcement_path(announcement), class: "btn btn-warning btn-sm" %>
    <%= link_to 'Delete', announcement_path(announcement), method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-danger btn-sm" %>
  <% end %>
</td>

        </tr>
      <% end %>
    </tbody>
  </table>

  <% if @announcements.empty? %>
    <div class="alert alert-warning text-center" role="alert">
      No announcements have been made yet.
    </div>
  <% end %>

  <div class="mt-3">
    <%= link_to 'Back to Home', root_path, class: "btn btn-secondary" %>
  </div>
</div>
